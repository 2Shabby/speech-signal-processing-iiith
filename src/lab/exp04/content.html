<!-- This file needs to be edited by the lab developer to suit
the requirements of their lab in particular.-->

<!-- Add class="default" to include any element as it is
specified in default.html. 
Do not include class="default" to the elements that you want to
edit -->

<!DOCTYPE html>
<html>
<head></head>
<body>

<div id="experiment"> <!-- The Experiment Document Container-->

  <!-- The lab Header contains the logo and the name of the lab,
  usually displayed on the top of the page-->

  <header id="experiment-header" class="default">
  
    <div id="experiment-header-logo" class="logo">
      <!-- Enclose the logo image of your lab or write it in 
      text
     <img src="../images/logo.jpg" />
	-->
    </div>

    <div id="experiment-header-heading" class="heading">
      <!-- Write the name of your lab and link it to the home 
      page of your lab (h1 tag is preferred while writing your 
      lab name)-->
      <a href="../index.html">Speech Signal Processing Virtual Lab</a>	
    </div>

    <!-- Add any additional element you want to add to the lab 
    header, For example : Help (Enclosing them with suitable 
    div is recommended)-->

  </header>


  <!-- The lab article is the main content area where all the 
  experiment content sits-->
  <article id="experiment-article">
  
    <!-- The lab article has an header, optional navigational 
    menu, number of sections, an optional sidebar and a closing 
    footer-->
    
      <header id="experiment-article-heading" class="heading">
        <!-- You can add a welcome message or title of the 
        experiment here -->
	Expt-4: Basics of DSP
        <!-- Add any additional element if required with proper 
        enclosing-->
      </header>

      <!-- Navigation menu is useful to organize the view of 
      multiple sections inside the article-->
      <nav id="experiment-article-navigation" class="default">
        <ul id="experiment-article-navigation-menu">
          <!-- The menu can be dynamically generated to contain 
          the headings of your sections or instead write the 
          menu items of your choice individually enclosedu in 
          <li> tag as shown below-->
        </ul>
      </nav>

      <!-- All the sections of your lab or experiment can be 
      enclosed together with a div element as shown below-->
      <div id="experiment-article-sections">

        <!-- First section of the article-->
        <section id="experiment-article-section-1">
          
          <div id="experiment-article-section-1-icon" 
          class="icon">
	    <!-- Enclose the icon image of your lab -->
	    <img src="../images/introduction.jpg" />
	  </div>	
          
          <!-- The heading for the section can be enclosed in a 
          div tag. -->
          <div id="experiment-article-section-1-heading" 
          class="heading">
            Objective
          </div>

          <!-- Write the section content inside a paragraph 
          element, You can also include images with <img> tag -->
          <div id="experiment-article-section-1-content" 
          class="content">	
	    <!-- PUT CONTENT HERE -->
	<p>
	    To study the effects of sampling (aliasing) and quantization 
	    on speech signals by playing them at different sampling rates 
	    and bits per sample (upto 1 bps).
	</p>
	    
        </div>
      </section>


      <section id="experiment-article-section-3">
        
        <div id="experiment-article-section-3-icon" 
        class="icon">
	  <!-- Enclose the icon image of your lab. -->
	  <img src="../images/theory.jpg" />
	</div>
     
        <div id="experiment-article-section-3-heading" 
        class="heading">
          Tutorial
        </div>

        <div id="experiment-article-section-3-content" 
        class="content">
	    <!-- PUT CONTENT HERE -->

<h3>Discretization of a continuous-time signal - sampling and aliasing</h3>

<p>
Consider a continous-time signal \(x_c(t)\) whose Fourier transform is \(X_c(\Omega)\). Then
$$ x_c(t)=\frac{1}{2\pi}\int\limits_{-\infty}^{\infty} X_c(\Omega) e^{j \Omega t} d\Omega$$
and
$$ X_c(\Omega)=\int\limits_{-\infty}^{\infty} x_c(t) e^{-j \Omega t} dt$$

A discrete-time signal \(x_d(n)\) can be obtained by uniformly sampling the continuous-time 
signal \(x_c(t)\) at discrete intervals \(nT\) where T is called the sampling period. Consider 
a unit impulse function \(\delta(t)\), whose value is \(1\) at \(t=0\) and \(0\) elsewhere. 
Then the unit impulse sequence can be expressed as 
$$ s(t) = \sum\limits_{n=-\infty}^{\infty} \delta(t-nT), $$
and \(x_d(n)\) can be expressed as 

\begin{eqnarray}
x_d(n) & = & x_c(t) s(t)\\
		 & = & x_c(t) \sum\limits_{n=-\infty}^{\infty} \delta(t-nT)\\
		 & = & \sum\limits_{n=-\infty}^{\infty} x_c(nT) \delta(t-nT).
\end{eqnarray} </p>
<br>
<table  summary="Effect of time-domain sampling in time domain"  width="900">
<tr>
	<td height="300">
		<img src="images/sig.png" style="height:100%;width:90%" alt="Signal" longdesc="plot of a damped sinusoid" />
	</td>
	<td height="300">
		<img src="images/impulse.png" style="height:100%;width:90%" alt="Impulse train" longdesc="impulse train sequence" />
	</td>
</tr>
<tr>
	<td><div style="text-align: center">(a)</div></td>
	<td><div style="text-align: center">(b)</div></td>
</tr>
<tr>
	<td height="300"><img src="images/sampling.png" style="height:100%;width:90%"  alt="Sampling" longdesc="sampling of a damped sinusoid" /></td>
	<td height="300"><img src="images/sampledsig.png" style="height:100%;width:90%" width="356" height="272" alt="Sampled Signal" longdesc="sampled damped sinusoid" /></td>
</tr>

<tr>	
	<td><div style="text-align: center">(c)</div></td>
	<td><div style="text-align: center">(d)</div></td>
</tr>
<caption align="bottom"><em>Figure. 1: (a) Damped sinusoid, (b) Impulse  train, (c) Illustration of sampling and (d) Sampled signal.</em></caption>
</table>
<br>
<p>
Figure&nbsp;1 illustrates the process and effect of sampling a continuous-time signal in the time domain.
In the frequency domain, the corresponding Fourier transform of \(x_d(n)\) can be obtained by 
convolving the individual Fourier transforms of \(x_c(t)\) and \(s(t)\). This is because multiplication
of two sequences in the time domain is equivalent to convolution in the Fourier domain. Similarly 
multiplication in the Fourier domain is equivalent of convolution in the time domain.
</p>
<p>

<p>To observe the effect of sampling in the frequency domain, we need to consider the Fourier Transform of \(s(t)\).
Since \(s(t)\) is periodic with period T, using Fourier series expansion it can be shown that
$$
s(t) = \frac{1}{T}\sum\limits_{k=-\infty}^{\infty} e^{-j k \Omega_s t},
$$
where \(\Omega_s=\frac{2\pi}{T}\) is the sampling frequency.
</p>

<p>Now the Fourier transform of \(s(t)\) may be computed as 
\begin{eqnarray}
S(\Omega) & = & \int\limits_{-\infty}^{\infty} s(t) e^{-j \Omega t} dt \\
	& = & \int\limits_{-\infty}^{\infty} \frac{1}{T}\sum\limits_{k=-\infty}^{\infty} e^{-j k \Omega_s t} e^{-j \Omega t} dt\\
	& = & \frac{2\pi}{T}  \sum\limits_{k=-\infty}^{\infty} \delta(\Omega - k \Omega_s).
\end{eqnarray} 
</p>
<p>
Thus the Fourier transform of an impulse train with period \(T\) is another impulse train with period \(\Omega_s = \frac{2\pi}{T}\).
To illustrate the effect of sampling in the frequency domain, consider some arbitrary Fouirer 
transform of a signal with bandwidth \(B\) shown in Figure&nbsp;2(a). The Fourier transform of the impulse train sequence
with period \(T\) is shown in Figure&nbsp;2(b) where \(F_s=\frac{1}{T}\) denotes the sampling frequency. The corresponding discrete-time
Fourier transform of the sampled signal is shown in Figure 2(c) for the case where \(F_s > 2B\); If the sampling frequency is reduced (\(F_s < 2B \)),
the resultant discrete-time Fourier transform (shown in Figure&nbsp;2(d)) clearly indicates the overlapping of spectral components.
This effect is called aliasing and is due to an insufficient sampling rate. If the signal is sampled at a sampling frequency of 
 \(F_s = 2B\), then no spectral distortion occurs as can be seen from (shown in Figure&nbsp;3). Hence the minimum sampling frequency 
 required to discretize a signal without aliasing is equivalent to twice the bandwidth of the signal. This frequency
 is referred to as the Nyquist rate.

<table summary="Effect of time-domain sampling in frequency domain" width="900" >
<tr>
	<td height="300"><img src="images/contspect.png" style="height:100%;width:90%" alt="Signal FT" longdesc="FT of a bandlimited signal" /></td>
	<td height="300"><img src="images/impulsetspect.png" style="height:100%;width:90%" alt="Impulse train FT" longdesc="FT of impulse train sequence" /></td>
</tr>
<tr>
	<td><div style="text-align: center">(a)</div></td>
	<td><div style="text-align: center">(b)</div></td>
</tr>
<tr>
	<td height="300"><img src="images/dtspectOs.png" style="height:100%;width:90%" alt="Oversampled" longdesc="Spectra of oversampled signal" /></td>
	<td height="300"><img src="images/dtspectUs.png" style="height:100%;width:90%" alt="Undersampled" longdesc="Spectra of undersampled signal" /></td>
</tr>

<tr>	
	<td><div style="text-align: center">(c)</div></td>
	<td><div style="text-align: center">(d)</div></td>
</tr>
<caption align="bottom"><em>Figure. 2: Fourier transform of (a) Bandlimited signal and (b) Impulse  train. 
Discrete time Fourier transform of (c) Oversampled signal (\(Fs>2B\)) (d) Undersampled signal (\(Fs<2B\)).</em></caption>
</table>
<table summary="DTFT of Nyquist rate sampled signal" width="900" >
<tr>
<td height="300">
<div style="text-align: center"> 
<img src="images/dtspectNq.png" style="height:100%;width:45%" alt="Nyquist" longdesc="Spectra of signal sampled at Nyquist frequency" />
</div>	
</td>
</tr>
<caption align="bottom">
<em>Figure. 3: Discrete time Fourier transform of signal sampled at Nyquist frequency (\(Fs=2B\)).</em> 
</caption>
</table>


</p>


<h3>Digitization of a discrete-time signal - Quantization and quantization error</h3>
<p>
A discrete-time signal obtained through sampling is still a continuous amplitude time sequence, where each sample 
value has an infinite precision.But digital computers are finite precision machines and hence there is a need to discretize 
and limit the range of sample values. This is achieved by quantization (more accurately scalar quantization). In the
quantization process, each sampled value of a discrete-time signal is compared against a finite set of amplitude values 
and assigned a value in the set that is closest to the discrete-time value. The number of elements in the
finite set is determined by the precision of the digital system. In an 8-bit system, there are \(2^8 =256\) elements in the set. 
The number of elements in the the finite 
set is referred as the number of quantization levels. If the difference in values of adjacent elements in the ordered
set is constant, then the quantizer is referred as an uniform linear quantizer. Figure&nbsp;4 shows the effect of 
quantizing a line using a 3-bit quantizer.
<table summary="Quantization of a line" width="900">
<tr>
<td height="300">
<div style="text-align: center">
<img src="images/quantizer.png" style="height:100%;width:50%" alt="Quantizer" longdesc="Quantization of a line" />
</div>
</td>
</tr>
<caption align="bottom">
<em>Figure. 4: Quantization of a linear segment of an analog signal.</em> 
</caption>
</table>
</p>

<p>
Since the digital signal is obtained by quantizing the continuous valued discrete-time signal, there is an error introduced in
representation of the signal. If the discrete-time signal \(x_d(n)\) has a limited amplitude range 
i.e., \(|x_d(n)|\leq A_\mbox{max}\), the quantization step for a B-bit uniform quantizer is given by
$$
Q_s = \frac{2A_{max}}{2^B}.
$$
The maximum quantization error introduced by a B-bit uniform quantizer is given by
\begin{eqnarray}
Q_{e_{max}} & = & \frac{Q_s}{2} \\
Q_{e_{max}} & = & \frac{A_\mbox{max}}{2^B}
\end{eqnarray}
Hence the quantizer error for each sample \(e(n)\)  is defined as 
$$
e(n) = x_d(n)-x_D(n),
$$,
where \(x_d(n)\) is the discrete-time infinite precision sampled value of the continuous-time signal \(x(t)\), and \(x_D(n)\) is the finite precision digitized (sampled and quantized) sample value.
The quantization error at each sample lies within the range
$$
-Q_{e_{max}} \leq e(n) \leq Q_{e_{max}}.
$$

</p>

        </div>

      </section>

      <!-- Second section of the article-->
      <section id="experiment-article-section-2">
        
        <div id="experiment-article-section-2-icon" 
        class="icon">
	  <!-- Enclose the icon image of your lab. -->
	  <img src="../images/procedure.jpg" />
	</div>
				
        <!-- The heading for the section can be enclosed in a 
        div tag. -->
        <div id="experiment-article-section-2-heading" 
        class="heading">
          Procedure
        </div>

        <!-- Write the section content inside a paragraph 
        element, we can also include images with <img> tag -->
        <div id="experiment-article-section-2-content" 
        class="content">
	    <!-- PUT CONTENT HERE -->
<p>
<h2>Part 1: Aliasing and quantization effect</h2>
<h3>1-A: Sampling and aliasing</h3> 
	    <ol>
<li>Select one of the sample .wav files provided and click on the load button.</li><br>
<li>Click on the play button. Listen carefully to the quality of the signal, in terms of perceived background noise/distortion and clarity or intelligibility of the sounds/message.</li><br>
<li>Change the sampling frequency to 8000 Hz and listen to the utterance. Perceive the change in quality of speech between 16 kHz and 8 kHz, by repeatedly switching between 16 kHz and 8 kHz.</li><br>
<li>Listen to the utterance at 4 kHz, 2 kHz, and 1 kHz. Observe the degradation in quality as the sampling rate is reduced.</li><br>
<li>Repeat the experiment with the anti-aliasing flag checked. Do you perceive any change in distortion between with and without anti-aliasing? Why?</li><br>
<li>Repeat the experiment for a recording of your own voice.</li><br>
</ol>
<h3>1-B: Quantization effect</h3>
<ol>
<li>Select back the sampling frequency of 16 kHz. Anti-aliasing flag may be set to anything, as it is immaterial here.</li><br>
<li>Reduce the bits/sample value to 8 from 16. Listen and compare the utterances for the two different bits/sample values.</li><br>
<li>Reduce the bits/sample to 4, 2, and 1. Listen and compare the quality of speech as the bits/sample is reduced.</li><br>
<li>Note that the message is intelligible even at 1 bps though it is highly noisy.</li><br>
<li>Repeat the experiment for a recording of your own voice.</li><br>
</ol>
</p>
<h2>Part 2: Filter design</h2>
<p>
<ol>
<li>Set the \(F_0\) value to 1 Hz, so as not to perceive the effect of pitch.</li><br>
<li>Now listen to the resonator output for different frequencies - 100, 500, 1000, 2000, 3000, and 4000 Hz, for a bandwidth (BW) of 0 Hz.</li><br>
<li>Now for a \(F_1\) value 100 Hz, study the effect of varying the BW from 0, 1, 2, 5, 10, 100, and 1000 Hz. Repeat the experiment for \(F_1\) values of 500, 1000, and 2000 Hz. Observe the impulse response and magnitude response of the filter in each case.</li><br>
<li>Now set the pitch frequency \(F_0\) to 100 Hz, resonance frequency \(F_1\) to 2000 Hz. Listen tothe responses for bandwidths 0 Hz and 4000 Hz.
Notice that you perceive predominantly the effect of 2000 Hz tone at 0 Hz BW, and the effect of pitch frequency 100 Hz (train of impulses) at 4000 Hz BW.</li><br>
<li>Now fix the BW at 0 Hz, and \(F_1\) at 2000 Hz. Vary the pitch frequency \(F_0\) from 1, 10, 100, and 1000 Hz. Notice that the effect of resonance dominates at 0 Hz BW, irrespective of the pitch frequency chosen.</li><br>
<li>Repeat the experiment with \(F_0\) at 1000 Hz, BW at 4000 Hz, and by changing \(F_1\) values to 10, 100, 1000, and 2000 Hz. Notice that you perceive predominantly the effect of pitch frequency for a large BW (4000 Hz) irrespective of the resonance frequency.</li><br>
<li>Now fix the BW at 100 Hz or 50 Hz. study the effect of varying \(F_1\) for a fixed value of \(F_0\) say 100 Hz. Also study the effect of varying \(F_0\) for a fixed value of \(F_1\) sat 2000 Hz. Notice that you perceive both the effect of \(F_0\) and \(F_1\) to varying degrees for different combinations of \(F_0\), \(F_1\), and BW.</li><br>
</ol>
</p>
        </div>
      </section>


      <section id="experiment-article-section-4">

        <div id="experiment-article-section-4-icon" 
        class="icon">
	  <!-- Enclose the icon image of your lab.-->
	  <img src="../images/simulation.jpg" />
	</div>

        <div id="experiment-article-section-4-heading" 
        class="heading">
          Experiment
        </div>

        <div id="experiment-article-section-4-content" 
        class="content">
	    <!-- PUT CONTENT HERE -->
	<p>
	<IFRAME src="part1.php" width="900" height="800" > </IFRAME>
	</p>
<!--
	    <applet code=dspBasics/DSPBasicsApplet.class 
		      archive="media/svlAudioTool.jar"
		      width=520 height=460>
		      <param name=foo value="bar">
	    </applet>
-->
        </div>

      </section>

      <section id="experiment-article-section-5">
   
        <div id="experiment-article-section-5-icon" 
        class="icon">
	  <!-- Enclose the icon image of your lab.-->
	  <img src="../images/manual.jpg" />
	</div>

        <div id="experiment-article-section-5-heading" 
        class="heading">
          Observations
        </div>

        <div id="experiment-article-section-5-content" 
        class="content">
	    <!-- PUT CONTENT HERE -->
<ul>
<li>The quality of speech is directly proportional to the number of
quantization levels ( that is, number of bits used for
quantization).Though quantization results in loss of information the
human perception mechanism can still get the information present in the
speech signal. <br>
</li><br>
</ul>
<ul>
<li>It is interesting to note that even with 1 bit/sample, most of
the speech is intelligible. Hence we can conclude that significant information lies in the phase sequence of the signal, even if the amplitude information is destroyed.<br>
</li><br>
</ul>
<ul>
<li>The aliasing effect is perceived as distortions in the output
signal. This is due to the effect of overlapping of frequency
components.</li><br>
</ul>
          </div>

        </section>


   <section id="experiment-article-section-8">

        <div id="experiment-article-section-8-icon" 
        class="icon">
          <!-- Enclose the icon image of your lab.-->
          <img src="../images/quizzes.jpg" />
        </div>

        <div id="experiment-article-section-8-heading" 
        class="heading">
          Assessment
        </div>

        <div id="experiment-article-section-8-content" 
        class="content">
        <ul>
	<li>Explain why one can make out the message even with one bit quantization?</li><br>
        <li>Write an algorithm for reducing the number of bits per sample (quantization levels) from a 16 bits to any given value say 8, 4, 2 or 1.
(<font size=-1>HINT: Assume that an "int floor(double)" function exists which takes in a float or double number and returns a integer part of the number.</font>)
        </li><br>

        <li>Show that the radius <font size=-1>\( r \)</font> of a pole in the <font size=-1>\( z \)</font>-plane is related to the bandwidth <font size=-2>\( B \)</font> by the expression
<font size=-1> $$ r = e^{-\pi B T}, $$</font> 
where <font size=-2>\( T \)</font> is the sampling interval.</li><br>

	<li>Using the result <font size=-1> \( r = e^{-\pi B T} \)</font>, show that the transfer function of a resonator with a pair of complex conjugate poles is given by
<font size=-1>$$ H(z) = \frac{1}{1-2e^{-\pi B_1 T}\cos{(2\pi F_1 T)} z^{-1} + e^{-2\pi B_1 T} z^{-2} },$$</font> 
where  <font size=-2>\( F_1 \)</font> is the frequency of the resonator,  <font size=-2>\( B_1 \)</font> is the bandwidth of the resonator, <font size=-1>\( r \)</font> is the radius of the pole in the <font size=-1>\( z \)</font>-plane, and <font size=-2>\( T \)</font> is the sampling interval.
</li><br>
        </ul>
          </div>

        </section>

		

        <section id="experiment-article-section-9">
   
          <div id="experiment-article-section-9-icon" 
          class="icon">
	    <!-- Enclose the icon image of your lab.-->
	    <img src="../images/readings.jpg" />
	  </div>

          <div id="experiment-article-section-9-heading" 
          class="heading">
            References
          </div>

          <div id="experiment-article-section-9-content" 
          class="content">
    		<ul>
			<li> <i>Digital Processing of Speech Signals</i>, L.R. Rabiner and R.W. Schafer, Chapter 2</li>
			<li> <i>Digital Processing of Speech Signals</i>, L.R. Rabiner and R.W. Schafer, Chapter 5</li>
		</ul> 
          </div>

        </section>

      </div>


    <!-- An article can have a sidebar that contain related 
    links and additional material (however it is kept optional 
    at this moment) -->
    <aside id="lab-article-sidebar" class="default">
      <!-- put the content that you want to appear in the 
      sidebar -->	
    </aside>


    <!-- Article footer can display related content and 
    additional links -->						
    <footer id="lab-article-footer" class="default">
      <!-- Put the content that you want to appear here -->
    </footer>

  </article>


  <!-- Links to other labs, about us page can be kept the lab 
  footer-->
  <footer id="lab-footer" class="default">
    <!-- Put the content here-->
  </footer>

<footer id="lab-header" class="heading">
    <!-- Put the content here-->
    <div id="lab-header-heading" class="heading">
    <!-- Write the name of your lab and link it to the home page
    of your lab. -->
        <center>
        <table><tr>
                <td><a href="http://speech.iiit.ac.in/" target=_blank><font size=-3>Developed at the Speech and Vision Lab, IIIT Hyderabad</font></a></td>
        </tr></table>
        </center>
    </div>


  </footer>

</div>		

<script type="text/javascript" src="../js/MathJax/MathJax.js?config=default">
  </script>

</body>
</html>
